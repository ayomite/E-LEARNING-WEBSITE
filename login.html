<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Student Login</title>
<style>
body { font-family: Arial,sans-serif; background:#eef2f7; display:flex; justify-content:center; align-items:center; height:100vh; }
.login-container { background:#fff; padding:40px 30px; border-radius:10px; box-shadow:0 6px 20px rgba(0,0,0,0.1); width:400px; }
h2 { text-align:center; color:#0066ff; margin-bottom:30px; }
.form-group { margin-bottom:20px; }
label { font-weight:bold; display:block; margin-bottom:5px; }
input { width:100%; padding:12px; border-radius:6px; border:1px solid #ccc; font-size:16px; }
button { width:100%; padding:15px; background:#0066ff; color:#fff; font-size:18px; font-weight:bold; border:none; border-radius:6px; cursor:pointer; }
button:hover { background:#004fcc; }
.error-message { color:red; text-align:center; margin-bottom:15px; }
.signup-link { text-align:center; margin-top:15px; }
</style>
</head>
<body>

<div class="login-container">
<h2>Student Login</h2>
<div class="error-message" id="errorMsg"></div>

<form id="loginForm">
  <div class="form-group"><label>Email</label><input type="email" id="loginEmail" required></div>
  <div class="form-group"><label>Password</label><input type="password" id="loginPassword" required></div>
  <button type="submit">Login</button>
</form>

<div class="signup-link">
Don't have an account? <a href="registration.html">Sign Up</a>
</div>
</div>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
import { getAuth, signInWithEmailAndPassword, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";

const firebaseConfig = {
  apiKey: "AIzaSyDwqKHykKby2Hl4kq9YgvuE5D-m39o8s-A",
  authDomain: "registration-portal-a9e15.firebaseapp.com",
  projectId: "registration-portal-a9e15"
};

const app = initializeApp(firebaseConfig);
const auth = getAuth(app);
const loginForm = document.getElementById("loginForm");
const errorMsg = document.getElementById("errorMsg");

// Redirect if already logged in
onAuthStateChanged(auth, (user)=>{ if(user){ window.location.href="dashboard.html"; } });

loginForm.addEventListener("submit", async (e)=>{
  e.preventDefault();
  const email = loginEmail.value.trim();
  const password = loginPassword.value.trim();
  errorMsg.textContent = "";
  try{ await signInWithEmailAndPassword(auth,email,password); }
  catch(err){ errorMsg.textContent = err.message; }
});
</script>
</body>
</html>
